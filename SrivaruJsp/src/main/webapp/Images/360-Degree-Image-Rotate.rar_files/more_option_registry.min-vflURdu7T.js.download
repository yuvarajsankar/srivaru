define(["require","exports","tslib","external/lodash","modules/clean/react/file_viewer/more_dropdown/models"],function(t,o,i,n,e){"use strict";function r(t,o){return t.filter(function(t){return t!==o})}Object.defineProperty(o,"__esModule",{value:!0});var s=(function(){function t(){this.listeners=[]}return t.prototype.emitChange=function(){return this.listeners.forEach(function(t){return t()})},t.prototype.addListener=function(t){var o=this;return this.listeners.push(t),function(){var i=o.listeners.indexOf(t);i>-1&&o.listeners.splice(i,1)}},t})(),p=(function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.options=[],o}return i.__extends(o,t),o.prototype.isValidMoreOption=function(t){return null!=t.fileActionButtonType},o.prototype.isValidMoreOptionGroup=function(t){var o=this,i=t.options;return i.length&&i.every(function(t){return o.isValidMoreOption(t)})},o.prototype.isValidOption=function(t){return t instanceof e.MoreOption&&this.isValidMoreOption(t)||t instanceof e.MoreOptionGroup&&this.isValidMoreOptionGroup(t)},o.prototype.getOptionItems=function(){return n.sortBy(this.options.slice(),function(t){return t.sortWeight})},o.prototype.addOption=function(t){if(!this.isValidOption(t))throw new Error("Option needs to be a valid MoreOption or MoreOptionGroup");this.options=this.options.concat([t]),this.emitChange()},o.prototype.removeOption=function(t){if(null!=t&&!this.isValidOption(t))throw new Error("Option needs to be a valid MoreOption or MoreOptionGroup");var o=this.options.length;this.options=r(this.options,t),this.options.length<o&&this.emitChange()},o.prototype.replaceOption=function(t,o){if(null==o)throw new Error("Please provide option to replace it with. Otherwise use removeOption");if(!this.isValidOption(t)||!this.isValidOption(o))throw new Error("Option needs to be a valid MoreOption or MoreOptionGroup");if(!t.equals(o)){var i=!1;this.options=this.options.map(function(n){return n===t?(i=!0,o):n}),i&&this.emitChange()}},o})(s);o.MoreOptionRegistry=p,o.moreOptionRegistry=new p});
//# sourceMappingURL=more_option_registry.min.js-vfl5sKyC_.map