define("modules/clean/react/path_filter_button",["require","exports","external/react","spectrum/dropdown_button","modules/clean/react/title_bubble","modules/clean/em_string","modules/clean/filepath"],function(e,t,n,l,i,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathFilterButton=function(e){var t=e.path,s=e.defaultText,c=e.dropdownClasses,r=e.disabled,d=e.onClick,u=t&&!a.paths_are_equal(t,"/")?o.Emstring.em_snippet(a.filename(t),10,.6):null,h=n.createElement(l.DropdownButton,{className:c,disabled:r,onClick:d},u||s);return u?n.createElement(i.TitleBubble,{content:t,position:i.TitleBubble.POSITIONS.BOTTOM},h):h}}),define("modules/clean/react/selectable_list",["require","exports","tslib","external/immutable","external/keymaster","external/react","external/react-dom","modules/core/browser"],function(e,t,n,l,i,o,a,s){"use strict";function c(e,t,n,l){switch(e){case d.PREV:return Math.max(0,t-1);case d.NEXT:return Math.min(n-1,t+1);case d.PREV_ROW:var i=t>=0?t-l:0;return i>=0?i:t;case d.NEXT_ROW:var o=t>=0?t+l:0;return o<n?o:t}}function r(e,t,n,l,i,o,a,s){switch(e){case d.PREV:if(0===t)return a;if(l===o)i-1>=0&&a.push(s[i-1]);else{var c=a.indexOf(s[o]);a.splice(c,1)}break;case d.NEXT:if(t===s.length)return a;if(l===i||l!==o)o+1<s.length&&a.push(s[o+1]);else{var c=a.indexOf(s[i]);a.splice(c,1)}break;case d.PREV_ROW:if(0===t)return a;if(l===o)for(var r=Math.min(n,t),u=t-1;u>=t-r;u--)a.push(s[u]);else if(l===i)for(var h=Math.min(n,t-i),u=o;u>o-h;u--){var c=a.indexOf(s[u]);a.splice(c,1)}break;case d.NEXT_ROW:if(t===s.length)return a;if(l===i)for(var r=Math.min(n,s.length-t-1),u=t+1;u<=t+r;u++)a.push(s[u]);else if(l===o)for(var h=Math.min(n,o-t),u=i;u<i+h;u++){var c=a.indexOf(s[u]);a.splice(c,1)}}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTABLE_LIST_KEY_SCOPE="SelectableList",t.SELECTABLE_TILE_GRID_KEY_SCOPE="SelectableTileGrid";var d,u="";(function(e){e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e[e.PREV_ROW=2]="PREV_ROW",e[e.NEXT_ROW=3]="NEXT_ROW"})(d=t.SelectDirection||(t.SelectDirection={})),t.findNeighboringItem=c,t.findSelectionRange=r;var h=(function(e){function h(t){var n=e.call(this,t)||this;return n.isFocused=!1,n.handleSelectPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.PREV))},n.handleSelectPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.PREV_ROW))},n.handleExtendSelectionToPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.PREV))},n.handleExtendSelectionToPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.PREV_ROW))},n.handleSelectNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.NEXT))},n.handleSelectNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.NEXT_ROW))},n.handleExtendSelectionToNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.NEXT))},n.handleExtendSelectionToNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.NEXT_ROW))},n.handleDeselectAll=function(e){var t=n.props.selection;if((!e||n.isGlobalEvent(e))&&t.selected.size&&(n.updateSelection([],!0),a.findDOMNode(n).contains(document.activeElement))){var l=document.activeElement;l.blur&&l.blur()}},n.handleSelectAll=function(e){var t=n.props,l=t.itemIds,i=t.selection;e&&!n.isGlobalEvent(e)||i.selected.size===l.length||n.updateSelection(n.props.itemIds,!0)},n.handleDeselect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"delete")},n.handleSelect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"add")},n.handleFocusFile=function(e){n.setState({focusedFileId:e})},n.isSelectableListEvent=function(){return n.isFocused},n.handleFocus=function(){n.isFocused=!0},n.handleBlur=function(){n.isFocused=!1},n.state={focusedFileId:null,selection:t.selection,keyScope:t.keyScope},n}return n.__extends(h,e),h.prototype.componentWillReceiveProps=function(e){this.props.keyScope!==e.keyScope&&(this.setState({keyScope:e.keyScope}),this.isFocused=!1)},h.prototype.componentDidMount=function(){this.setupKeyboardShortcuts(),this.setFocusedIdFromSelection(this.props.selection)},h.prototype.componentDidUpdate=function(e,t){e.selection&&this.props.selection&&e.selection.anchor!==this.props.selection.anchor&&this.setFocusedIdFromSelection(this.props.selection),this.state.keyScope!==t.keyScope&&this.setupKeyboardShortcuts()},h.prototype.componentWillUnmount=function(){this.cleanupKeyboardShortcuts()},h.prototype.setupKeyboardShortcuts=function(){var e=this,n=this.state.keyScope;u=i.getScope(),u!==n&&i.setScope(n);var l=i.filter||function(e){var t=e.target||e.srcElement,n=t.tagName;return!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n)};i.filter=function(t){var n=t.target||t.srcElement,i=n.tagName;return(!e.isSelectableListEvent()||"BUTTON"!==i)&&(n instanceof HTMLInputElement&&"checkbox"===n.type||l.call(e,t))},n===t.SELECTABLE_LIST_KEY_SCOPE?(i("up",n,this.handleSelectPrevious),i("shift+up",n,this.handleExtendSelectionToPrevious),i("down",n,this.handleSelectNext),i("shift+down",n,this.handleExtendSelectionToNext)):n===t.SELECTABLE_TILE_GRID_KEY_SCOPE&&(i("left",n,this.handleSelectPrevious),i("shift+left",n,this.handleExtendSelectionToPrevious),i("right",n,this.handleSelectNext),i("shift+right",n,this.handleExtendSelectionToNext),i("up",n,this.handleSelectPreviousRow),i("shift+up",n,this.handleExtendSelectionToPreviousRow),i("down",n,this.handleSelectNextRow),i("shift+down",n,this.handleExtendSelectionToNextRow)),i("escape",n,this.handleDeselectAll),s.mac?i("command+a",n,this.handleSelectAll):i("ctrl+a",n,this.handleSelectAll)},h.prototype.cleanupKeyboardShortcuts=function(){i.clearScope(this.state.keyScope),u&&i.setScope(u),i.resetFilter()},h.prototype.setFocusedIdFromSelection=function(e){e.anchor&&0!==e.selected.size&&this.setState({focusedFileId:e.anchor})},h.prototype.handleTabbingStart=function(){document.body.classList.add("tabbing"),this.props.onTabbingStart()},h.prototype.updateSelection=function(e,t){void 0===t&&(t=!1);var n=this.props.selection,i=t?e.length?e[0]:this.props.itemIds[0]:n.anchor,o=n.merge({selected:l.OrderedSet(e),anchor:i});this.props.onSelectionChange(o)},h.prototype.selectNeighboringItem=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=t.tilesPerRow,o=n.indexOf(l.selected.last()),a=c(e,o,n.length,i),s=n[a];this.setState({focusedFileId:s}),this.updateSelection([s],!0),this.handleTabbingStart()},h.prototype.extendSelectionRange=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=t.tilesPerRow,o=l.anchor||n[0];if(o){var a=n.indexOf(l.selected.last()),s=l.selected.toArray(),c=n.indexOf(o),d=this.getRangeOfSelectedBlock(o);s=r(e,a,i,c,d.startIndex,d.endIndex,s,n),this.setState({focusedFileId:s[s.length-1]}),this.updateSelection(s),this.handleTabbingStart()}},h.prototype.getRangeOfSelectedBlock=function(e){for(var t=this.props,n=t.itemIds,l=t.selection,i=n.indexOf(e),o=0,a=0;o=i,i--,!(i<0)&&l.selected.has(n[i]););for(i=o;;){var s=n[i];if(!s||!l.selected.has(s))break;a=i,i++}return{startIndex:o,endIndex:a}},h.prototype.extendOrShrinkSelectionByFile=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=l.anchor||n[0];if(i){var o=n.indexOf(i),a=n.indexOf(e),s=this.getRangeOfSelectedBlock(i),c=s.startIndex,r=s.endIndex;if(a!==r){var d=[],u=[];n.forEach(function(e,t){c<=t&&t<=r&&d.push(e),(a<=t&&t<=o||o<=t&&t<=a)&&u.push(e)}),a<o&&u.reverse();var h=l.update("selected",function(e){return e.subtract(d).union(u)});this.setState({focusedFileId:e}),this.props.onSelectionChange(h),this.handleTabbingStart()}}},h.prototype.updateSelectionById=function(e,t){var n=this.props.selection,l=n.selected[t](e),i=n.merge({selected:l,anchor:l.first()||null});this.props.onSelectionChange(i)},h.prototype.isGlobalEvent=function(e){var t=e.target instanceof HTMLInputElement,n=t&&"checkbox"===e.target.type;return!document.activeElement||document.activeElement===document.body||a.findDOMNode(this).contains(e.target)&&(!t||n)},h.prototype.render=function(){var e=this.props.children,n=this.state.focusedFileId;if(!e)return null;var l=e;return"function"==typeof e&&(l=e({focusedFileId:n,handleDeselect:this.handleDeselect,handleDeselectAll:this.handleDeselectAll,handleFocusFile:this.handleFocusFile,handleSelect:this.handleSelect,handleSelectAll:this.handleSelectAll,isSelectableListEvent:this.isSelectableListEvent})),this.state.keyScope===t.SELECTABLE_LIST_KEY_SCOPE?o.createElement("div",{onBlur:this.handleBlur,onFocus:this.handleFocus},l):o.createElement("div",null,l)},h})(o.PureComponent);t.SelectableList=h}),define("spectrum/culled_list",["require","exports","tslib","spectrum/culled_list/index"],function(e,t,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(l,t)}),define("spectrum/media_table_skeleton",["require","exports","tslib","spectrum/media_table_skeleton/index"],function(e,t,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(l,t)}),define("spectrum/media_table_skeleton/index",["require","exports","tslib","spectrum/media_table_skeleton/media_icon","spectrum/media_table_skeleton/media_table_skeleton","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(l,t),n.__exportStar(i,t),n.__exportStar(o,t)}),define("spectrum/media_table_skeleton/media_icon",["require","exports","react"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaIcon=function(){return n.createElement("svg",{width:"24",height:"29",viewBox:"0 0 24 29"},n.createElement("g",{fill:"none"},n.createElement("polyline",{points:"0 0 16 0 16 8 24 8 24 29 0 29",fill:"#F7F8F9"}),n.createElement("polygon",{points:"16 0 24 8 16 8",fill:"#EFF1F3"})))},t.MediaIcon.displayName="MediaIcon"}),define("spectrum/media_table_skeleton/media_table_skeleton",["require","exports","classnames","react","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaTableSkeleton=function(e){for(var t=e.numRows,o=e.className,a=[],s=0;s<t;s++)a.push(l.createElement(i.MediaTableSkeletonRow,{key:s}));var c=n("media-table-skeleton",o);return l.createElement("table",{className:c},l.createElement("thead",{className:"media-table-skeleton-head"},l.createElement("tr",{className:"media-table-skeleton-head-row"},l.createElement("th",{className:"media-table-skeleton-head-cell"},l.createElement("div",{className:"media-table-skeleton-placeholder-head"})))),l.createElement("tbody",{className:"media-table-skeleton-body"},a))},t.MediaTableSkeleton.displayName="MediaTableSkeleton"}),define("spectrum/media_table_skeleton/media_table_skeleton_row",["require","exports","react","spectrum/media_table_skeleton/media_icon"],function(e,t,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaTableSkeletonRow=function(){return n.createElement("tr",{className:"media-table-skeleton-row"},n.createElement("td",{className:"media-table-skeleton-cell-content"},n.createElement("div",{className:"media-table-skeleton-icon"},n.createElement(l.MediaIcon,null)),n.createElement("div",{className:"media-table-skeleton-placeholder-content"})),n.createElement("td",{className:"media-table-skeleton-cell-detail"},n.createElement("div",{className:"media-table-skeleton-placeholder-detail"})))},t.MediaTableSkeletonRow.displayName="MediaTableSkeletonRow"});
//# sourceMappingURL=pkg-selectable-list.min.js-vfl6hRM0u.map