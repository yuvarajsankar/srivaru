define(["require","exports","tslib","react","classnames","spectrum_comments/thread","spectrum_comments/comment","spectrum_comments/comment_editor/comment_utils","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_bar"],function(e,t,n,o,r,a,d,i,c,s){"use strict";function m(e){return o.createElement(s.PostBar,n.__assign({},e,{postLabel:"Post",cancelLabel:"Cancel",disableCancelButton:e.isEmpty}))}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:i.createEmptyContent(),editedComment:void 0},t.onThreadActivated=function(e){return function(){t.props.actionsAdapter.onThreadActivated(e)}},t.onStartEdit=function(e){t.setState({editedComment:e})},t.onEndEdit=function(){t.setState({editedComment:void 0})},t.handleClick=function(e){e.currentTarget===e.target&&t.props.actionsAdapter.onAllThreadsDeactivated()},t.onThreadReplyCancel=function(){t.onTopEditorCancel(),t.props.actionsAdapter.onAllThreadsDeactivated()},t.onTopEditorCancel=function(){t.setState({content:i.createEmptyContent(),editedComment:void 0})},t.onContentChange=function(e){e.isFocused&&t.props.actionsAdapter.onEditorFocused()},t.onPost=function(e,n){t.setState({content:i.createEmptyContent()}),t.props.actionsAdapter.onThreadCreated(e,n)},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,i=t.actionsAdapter,s=i.onCommentDeleted,l=i.onCommentEdited,u=i.onClickTimeCode,p=i.onEditorFocused,C=i.onMentionsQueryUpdated,h=i.onThreadCreated,E=i.onThreadMarkedAsRead,f=i.onThreadMarkedAsUnread,v=i.onThreadRepliedTo,T=i.onThreadResolved,_=i.onThreadUnresolved,y=t.className,A=void 0===y?"":y,M=t.commentComponent,b=void 0===M?function(e){return o.createElement(d.Comment,n.__assign({},e))}:M,g=t.editorComponent,k=void 0===g?function(e){return o.createElement(c.CommentEditor,n.__assign({},e))}:g,S=t.enabled,R=t.user,U=t.mentionsMatches,P=t.activeThreadID,D=t.isMobile,N=t.threads,F=N.every(function(e){return void 0===e.pending}),Q=r(A,{"sc-comment-stream":!0,"sc-comment-stream-enabled":S,"sc-comment-stream-all-threads-complete":F}),x=null;R&&(x=k({author:R,className:"sc-comment-stream-editor",content:this.state.content,onContentChange:this.onContentChange,placeholder:"Write a comment",postSignalComponent:m,onCancel:this.onTopEditorCancel,onPost:h,mentionsMatches:U,onMentionsQueryUpdated:C}));var B=N.map(function(t){return o.createElement(a.Thread,{key:t.id,actions:{onClickTimeCode:u,onReply:function(e){return v(t.id,e)},onMarkAsRead:function(){return E(t.id)},onMarkAsUnread:function(){return f(t.id)},onResolve:function(){return T(t.id)},onUnresolve:function(){return _(t.id)},onEditorFocused:function(){return p(t.id)},onCommentDeleted:s,onCommentEdited:l,onMentionsQueryUpdated:C},active:t.id===P,commentComponent:b,editedComment:e.state.editedComment,onActivated:e.onThreadActivated(t),onCancel:e.onThreadReplyCancel,onStartEdit:e.onStartEdit,onEndEdit:e.onEndEdit,isMobile:D,thread:t,user:R,mentionsMatches:U})});return o.createElement("div",{className:Q},!D&&x,o.createElement("ul",{className:"sc-comment-stream-threads",onClick:this.handleClick},B))},t})(o.PureComponent);t.CommentStream=l,a.Thread.displayName="Thread"});
//# sourceMappingURL=comment_stream.min.js-vfl4PIAlS.map