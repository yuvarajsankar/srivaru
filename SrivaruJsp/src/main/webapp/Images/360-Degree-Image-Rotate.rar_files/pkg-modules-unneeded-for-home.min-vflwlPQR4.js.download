define("modules/clean/ajax_as_promised",["require","exports","modules/clean/ajax"],function(e,t,n){"use strict";function o(e){return function(t){return new Promise(function(n,o){return e(t).then(n,function(e,t,n){return o({jqXHR:e,textStatus:t,errorThrown:n})})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.Request=o(n.Request),t.BackgroundRequest=o(n.BackgroundRequest),t.SilentBackgroundRequest=o(n.SilentBackgroundRequest),t.SilentBackgroundRequestOref=o(n.SilentBackgroundRequestOref),t.WebRequest=o(n.WebRequest),t.WebRequestOref=o(n.WebRequestOref),t.FormWebRequest=o(n.FormWebRequest),t.WebProgressRequest=o(n.WebProgressRequest),t.ValidationSchemaRequest=o(n.ValidationSchemaRequest)}),define("modules/clean/avatar/viewer_avatar",["require","exports","tslib","external/react","external/prop-types","modules/clean/avatar/photo_avatar","modules/clean/avatar/size","modules/clean/css","modules/core/uri","modules/clean/event_handler"],function(e,t,n,o,r,i,s,a,l,u){"use strict";return(function(e){function t(t){var n=e.call(this,t)||this;return n.state={photoUrl:n.props.photoUrl},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;a.require_css("/static/css/scooter/scooter-scoped-vflrM1SRf.css"),this.events.on(document,"db:account_photo:photo_set",function(t,n){var o=2*e.props.dimension,r=o+"x"+o,i=l.URI.parse(n.saved_photo_url).updateQuery({size:r}).toString();e.setState({photoUrl:i})}),this.events.on(document,"db:account_photo:photo_deleted",function(){e.setState({photoUrl:null})}),!this.hasPhotoAvatar()&&this.props.onLoad&&this.props.onLoad()},t.prototype.hasPhotoAvatar=function(){return null!=this.state.photoUrl},t.prototype.render=function(){return this.hasPhotoAvatar()?o.createElement(i.PhotoAvatar,{alt:this.props.alt,dimension:this.props.dimension,onClick:this.props.onPhotoClick,photoUrl:this.state.photoUrl,optionalClass:this.props.optionalClass,onLoad:this.props.onLoad,onError:this.props.onError}):this.props.defaultAvatar},t.displayName="ViewerAvatar",t.propTypes={dimension:r.oneOf(s.VALID_AVATAR_DIMENSIONS).isRequired},t=n.__decorate([u.eventHandler],t)})(o.Component)}),define("modules/clean/bolt",["require","exports","tslib","external/lodash","jquery","modules/clean/bolt_nodeps","modules/core/exception"],function(e,t,n,o,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelId=i.ChannelId,t.ChannelPayloads=i.ChannelPayloads,t.Payload=i.Payload,t.SignedChannelState=i.SignedChannelState;var a=(function(e){function t(t,n,i){return e.call(this,t,n,i,"bolt.dropbox.com",r.ajax,o,s)||this}return n.__extends(t,e),t})(i.BoltClient);t.BoltClient=a;var l=(function(e){function t(t,n,i){return e.call(this,t,n,i,"thunder.dropbox.com",r.ajax,o,s)||this}return n.__extends(t,e),t})(i.ThunderClient);t.ThunderClient=l}),define("modules/clean/bolt_nodeps",["require","exports","tslib"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){this.app_id=e,this.unique_id=t}return e})();t.ChannelId=o;var r=(function(){function e(e,t,n,o){this.app_id=e,this.unique_id=t,this.revision=n,this.token=o}return e})();t.SignedChannelState=r;var i=(function(){function e(e,t){this.revision=e,this.payload=t}return e})();t.Payload=i;var s=(function(){function e(e,t){this.channel_state=e,this.payloads=t}return e})();t.ChannelPayloads=s;var a=(function(){function e(e,t,n,o,r,i,s){void 0===s&&(s=null),this._find_state=this._find_state.bind(this),this._long_poll=this._long_poll.bind(this),this._must_find_state=this._must_find_state.bind(this),this._handle_poll_success=this._handle_poll_success.bind(this),this._handle_poll_error=this._handle_poll_error.bind(this),this._update_callback=t,this._refresh_callback=n,this._hostname=o,this._ajax=r,this._lodash=i,this._exclog=s,this._signed_channel_states=[],this._started=!1,this._sequence_num=0,this._backoff_window=1e3,this._additional_headers={},this._timeout_id=null,this.update_states(e)}return e.prototype._encode_channel_state=function(e){return{channel_id:{app_id:e.app_id,unique_id:e.unique_id},revision:e.revision,token:e.token}},e.prototype._decode_channel_state=function(e){return new r(e.channel_id.app_id,e.channel_id.unique_id,e.revision,e.token)},e.prototype._decode_channel_id=function(e){return new o(e.app_id,e.unique_id)},e.prototype._compare_revisions=function(e,t){var n=Math.max(e.length,t.length),o=Array(n-e.length+1).join("0")+e,r=Array(n-t.length+1).join("0")+t;return o<r?-1:o>r?1:0},e.prototype._find_state=function(e){var t=this;return this._lodash.find(this._signed_channel_states,function(n){return t._lodash.isEqual(e,n.channel_id)})},e.prototype.update_states=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],r=this._encode_channel_state(o),i=this._find_state(r.channel_id);null==i?this._signed_channel_states.push(r):this._compare_revisions(r.revision,i.revision)>=0&&(i.revision=r.revision,i.token=r.token)}},e.prototype.start=function(){if(!this._started)return this._started=!0,this._long_poll()},e.prototype.unsubscribe=function(){this._started=!1,null!=this._long_poll_xhr&&this._long_poll_xhr.abort(),this._long_poll_xhr=null,window.clearTimeout(this._timeout_id),this._timeout_id=null},e.prototype._long_poll=function(){var e=this;this._sequence_num++;var t=this._sequence_num;return this._long_poll_xhr=this._ajax({url:this._subscribe_url(),type:"POST",data:JSON.stringify({channel_states:this._signed_channel_states}),contentType:"application/json; charset=utf-8",headers:this._additional_headers,dataType:"json",timeout:12e4,success:function(n,o,r){return e._handle_poll_success(t,n,o,r)},error:function(n,o){return e._handle_poll_error(t,n,o)},xhrFields:{withCredentials:!0}})},e.prototype._must_find_state=function(e){var t=this._find_state(e);if(null==t){var n="Bolt returned unknown channel id "+e;null!=this._exclog&&this._exclog.reportStack(n)}return t},e.prototype._handle_poll_data=function(e,t,n){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0},e.prototype._subscribe_url=function(){return"https://"+this._hostname+this._subscribe_endpoint()},e.prototype._subscribe_endpoint=function(){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0},e.prototype._handle_poll_success=function(e,t,n,o){var r=this;if(e===this._sequence_num&&(this._long_poll_xhr=null,this._started)){var i=this._handle_poll_data(t,n,o);return i.length>0&&this._lodash.defer(this._update_callback,i),(null!=t.invalid_channels?t.invalid_channels.length:void 0)>0?void this._lodash.defer(this._refresh_callback,Array.from(t.invalid_channels).map(function(e){return r._decode_channel_id(e)})):(this._backoff_window=1e3,this._timeout_id=window.setTimeout(this._long_poll,0))}},e.prototype._handle_poll_error=function(e,t,n){if(e===this._sequence_num&&(this._long_poll_xhr=null,this._started)){var o=Math.random()*this._backoff_window;return this._backoff_window=Math.min(2*this._backoff_window,3e5),window.setTimeout(this._long_poll,o)}},e})(),l=(function(e){function t(t,n,o,r,i,s,a){void 0===a&&(a=null);var l=e.call(this,t,n,o,r,i,s,a)||this;return l._handle_poll_data=l._handle_poll_data.bind(l),l}return n.__extends(t,e),t.prototype._subscribe_endpoint=function(){return"/2/notify/subscribe"},t.prototype._handle_poll_data=function(e,t,n){var o=[];if(null!=e.channel_states)for(var r=0,i=Array.from(e.channel_states);r<i.length;r++){var s=i[r],a=this._must_find_state(s.channel_id);this._compare_revisions(s.revision,a.revision)>0&&(a.revision=s.revision,a.token=s.token,o.push(this._decode_channel_state(s)))}return o},t})(a);t.BoltClient=l;var u=(function(e){function t(t,n,o,r,i,s,a){void 0===a&&(a=null);var l=e.call(this,t,n,o,r,i,s,a)||this;return l._handle_poll_data=l._handle_poll_data.bind(l),l}return n.__extends(t,e),t.prototype.unsubscribe=function(){return delete this._additional_headers["X-Bolt-Session"],e.prototype.unsubscribe.call(this)},t.prototype._subscribe_endpoint=function(){return"/2/payloads/subscribe"},t.prototype._handle_poll_data=function(e,t,n){var o=[];if(this._additional_headers={},this._additional_headers["X-Bolt-Session"]=n.getResponseHeader("X-Bolt-Session"),null!=e.channel_payloads)for(var r=0,a=Array.from(e.channel_payloads);r<a.length;r++){for(var l=a[r],u=l.channel_state,p=this._must_find_state(u.channel_id),d=this._decode_channel_state(l.channel_state),c=[],h=0,_=Array.from(l.payloads);h<_.length;h++){var f=_[h];this._compare_revisions(f.revision,p.revision)>0&&c.push(new i(f.revision,f.payload))}c.length>0&&o.push(new s(d,c)),this._compare_revisions(u.revision,p.revision)>0&&(p.revision=u.revision,p.token=u.token)}return o},t})(a);t.ThunderClient=u}),define("modules/clean/browse_interface",["require","exports","tslib","modules/clean/history","modules/clean/viewer","modules/core/i18n","modules/core/uri","modules/clean/browse_uri_interface","modules/clean/browse_uri_interface"],function(e,t,n,o,r,i,s,a,l){"use strict";function u(e){return r.Viewer.get_viewer().is_paired?r.Viewer.get_root_name(e):i._("Files")}function p(){return r.Viewer.get_viewer().get_users().map(function(e){return{name:u(e),path:l.get_browse_root(e)}})}function d(e,t){var o=e.fqPath,r=e.userId,i=n.__assign({},null==t?{}:t,(a={undelete:"1"},a._subject_uid=String(r),a));o=o.replace(/^[\/]/,"");return new s.URI({path:"/history/"+o}).updateQuery(i).toString();var a}function c(e){var t=e.fqPath,n=e.userId,r=(i={prev:s.URI.parse(o.get_url()).setFragment("").toString()},i._subject_uid=String(n),i);return t=t.replace(/^[\/]/,""),new s.URI({path:"/restore/"+t}).updateQuery(r).toString();var i}Object.defineProperty(t,"__esModule",{value:!0}),t.get_browse_root=a.get_browse_root,t.href_for_file=a.href_for_file,t.preview_uri_for_fq_path=a.preview_uri_for_fq_path,t.browse_uri_for_fq_path=a.browse_uri_for_fq_path,t.get_browse_root_name=u,t.get_all_browse_roots=p,t.getFileHistoryUrl=d,t.getRestoreFileUrl=c}),define("modules/clean/downloads",["require","exports","jquery","modules/clean/filepath","modules/core/browser","modules/core/exception","modules/core/html","modules/core/i18n","modules/core/notify","modules/core/uri"],function(e,t,n,o,r,i,s,a,l,u){"use strict";function p(e){var n=e.url,o=e.ns_id,r=e.ns_path,s=e.inside_admin_console,a=e.error,l=u.URI.parse(n);return l.setScheme("https"),s?l.updateQuery({dl:"1",inside_admin_console:"true"}):l.updateQuery({dl:"1"}),null!=o&&(i.assert("string"==typeof r,"Namespace ID was passed with invalid path, got: "+r),l.updateQuery({nsid:String(o),path:r})),i.assert("dl-web.dropbox.com"===l.getAuthority(),"download_blockserver_url expects a blockserver resource, got: "+n),t.get({url:l.toString(),error:a})}function d(e){for(var t=e.parent_ns_id,r=e.parent_ns_path,i=e.files,s=e.subject_uid,a=e.block_hash,l=new u.URI({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch_by_ns_id",query:(_={},_._subject_uid=String(s),_.parent_ns_id=String(t),_.parent_ns_path=r||"/",_)}).toString(),p=n("<form>",{action:l,method:"post"}),d=0,c=i;d<c.length;d++){var h=c[d];n("<input>",{name:"ns_paths",value:r+"/"+o.filename(h.fq_path)}).appendTo(p)}n("<input>",{name:"w",value:a}).appendTo(p),n(document.body).append(p),p.submit(),p.remove();var _}function c(e){var t=e.fq_paths,n=e.subject_uid,o=e.block_hash,r=e.parent_path,i=e.flat_zip_mode;if(r=r||"/",1===t.length)x({fq_paths:t,subject_uid:n,block_hash:o,parent_path:r});else{T({fq_paths:t,subject_uid:n,block_hash:o,parent_path:r,endpoint:i?"/zip_flat_batch":"/zip_batch"})}}function h(){g=!0,y={},n(window).on("message",_)}function _(e){var t=u.URI.parse(e.originalEvent.origin);if("https"===t.getScheme()&&(b.includes(t.getAuthority())||t.getAuthority().endsWith("dl.dropboxusercontent.com"))){var n;try{n=JSON.parse(e.originalEvent.data)}catch(e){return}if(n&&n.download_id){var o=y[n.download_id];if(null!=o&&t.getAuthority()===o.origin&&e.originalEvent.source===o.iframe[0].contentWindow){if("failed"===n.status){var r=(n.message||v)+'<a target="_blank" rel="noreferrer" href="/help/desktop-web/download-entire-folders">'+a._("More info")+"</a>";l.Notify.error(new s.HTML(r)),o.error&&o.error()}f(n.download_id)}}}}function f(e){var t=y[e];null!=t&&(t.iframe.remove(),delete y[e])}function m(){for(var e="",t=1;t<=4;t++)e+=String(Math.random()).split(".")[1];return e}Object.defineProperty(t,"__esModule",{value:!0});var b=["dl-web.dropbox.com","dl.dropboxusercontent.com"],v=a._("There was an error downloading your file."),g=!1,y={};t.get=function(e){var t=e.url,n=e.error,o=e.__do_not_use_expected_domain,s=u.URI.parse(t),a=o||s.getAuthority();if(i.assert(b.includes(a)||a.endsWith("dl.dropboxusercontent.com")||"www.dropbox.com"===a,"attempt to download from a non-blockserver domain"),r.iOS)return i.assert(["",window.location.host].concat(b).includes(s.getAuthority())||s.getAuthority().endsWith("dl.dropboxusercontent.com"),"blocked attempted download from non-block domain that differs from current domain"),r.unsafeRedirect(t),!1;g||h();var p=m();return s.updateQuery((d={},d._download_id=p,d._notify_domain=window.location.host,d)),w({downloadUri:s,downloadId:p,error:n,downloadDomain:a,onLoad:function(){setTimeout(function(){var e=y[p];null!=e&&(r.chrome&&(l.Notify.error(v),e.error&&e.error()),f(p))},100)}}),!1;var d};var w=function(e){var t=e.downloadUri,o=e.downloadId,r=e.error,i=e.downloadDomain,s=e.onLoad,a=n("<iframe />",{src:String(t)}).css("display","none");s&&a.on("load",s),y[o]={origin:i,error:r,iframe:a},n("body").append(a),window.setTimeout(function(){return f(o)},9e4)};t.get_blockserver_link=p,t.zip_batch_by_ns_id=d,t.get_zip=c;var x=function(e){var n=e.fq_paths,o=e.subject_uid,r=e.block_hash,i=e.parent_path,s=new u.URI({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch_download",query:(a={},a._subject_uid=String(o),a.files=n[0],a.parent_path=i,a.w=r,a)}).toString();t.get({url:s});var a},T=function(e){for(var t=e.fq_paths,o=e.subject_uid,r=e.block_hash,i=e.parent_path,s=e.endpoint,a=new u.URI({scheme:"https",authority:"dl-web.dropbox.com",path:s,query:(h={},h._subject_uid=String(o),h)}).toString(),l=n("<form>",{action:a,method:"post"}),p=0,d=t;p<d.length;p++){n("<input>",{name:"files",value:d[p]}).appendTo(l)}var c=n("<input>",{name:"parent_path",value:i});c.appendTo(l),c=n("<input>",{name:"w",value:r}),c.appendTo(l),n(document.body).append(l),l.submit(),l.remove();var h};t.init=h}),define("modules/clean/event_handler",["require","exports","jquery"],function(e,t,n){"use strict";function o(e){var n=e.prototype.componentWillMount,o=e.prototype.componentWillUnmount;e.prototype.componentWillMount=function(){t.EventHandlerMixin.componentWillMount.apply(this),n&&"function"==typeof n&&n.apply(this)},e.prototype.componentWillUnmount=function(){o&&"function"==typeof o&&o.apply(this),t.EventHandlerMixin.componentWillUnmount.apply(this)}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventHandler=o,t.EventHandlerMixin={componentWillMount:function(){this.events=new r},componentWillUnmount:function(){this.events.removeAll()}};var r=(function(){function e(){}return e.prototype.on=function(e,t,o,r,i){"string"!=typeof o&&(i=r,r=o,o=void 0),i&&(r=n.proxy(r,i)),this.handlers||(this.handlers=[]),e=n(e),o?e.on(t,o,r):e.on(t,r),this.handlers.push({element:e,event:t,selector:o,callback:r})},e.prototype.removeAll=function(){this.handlers&&(this.handlers.forEach(function(e){e.selector?e.element.off(e.event,e.selector,e.callback):e.element.off(e.event,e.callback)}),this.handlers=null)},e})();t.EventHandler=r}),define("modules/clean/flux/base_store",["require","exports","modules/clean/flux/dispatcher","modules/core/exception"],function(e,t,n,o){"use strict";function r(e,t){return void 0!==e&&null!==e?t(e):void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){var e=!1,t=[];return n.Dispatcher.dispatch_begin=function(){return e=!0},n.Dispatcher.dispatch_end=function(){e=!1;try{return Array.from(t).map(function(e){return e()})}finally{t.length=0}},function(n){return e?Array.from(t).includes(n)?void 0:t.push(n):n()}})(),s=(function(){function e(e){"function"==typeof this._init&&this._init(),this._change_listeners=[],this._dispatcher=e||n.Dispatcher,this.dispatchToken=this._dispatcher.register(this._new_payload_wrapper.bind(this))}return e.prototype.destructor=function(){this._dispatcher.unregister(this.dispatchToken),this.remove_all_change_listeners()},e.prototype.emit_change=function(){for(var e=0,t=this._change_listeners;e<t.length;e++){i(t[e])}},e.prototype.add_change_listener=function(e){o.assert(!this._change_listeners.includes(e),"adding duplicate change listener not allowed"),this._change_listeners.push(e)},e.prototype.remove_change_listener=function(e){this._change_listeners=this._change_listeners.filter(function(t){return t!==e})},e.prototype.remove_all_change_listeners=function(){this._change_listeners.length=0},e.prototype._new_payload_wrapper=function(e){r(null!=e?e.action:void 0,function(e){return e.type})===this.constructor.WIPE_TYPE&&"function"==typeof this._init&&this._init(),this._new_payload(e)},e.prototype._new_payload=function(e){throw new Error("Abstract method - must be implemented")},e.WIPE_TYPE="WIPE_ALL",e})();t.Store=s}),define("modules/clean/fuzzy",["require","exports"],function(e,t){"use strict";var n={simpleFilter:function(e,t){return t.filter(function(t){return n.test(e,t)})},test:function(e,t){return null!==n.match(e,t)},match:function(e,t,n){n=n||{};var o=0,r=[],i=t.length,s=0,a=0,l=n.pre||"",u=n.post||"",p=n.caseSensitive&&t||t.toLowerCase(),d=void 0;e=n.caseSensitive&&e||e.toLowerCase();for(var c=0,h=[],_=0,f=0;c<i;)d=t[c],p[c]===e[o]?(d=l+d+u,f?f+=1:(_=c,f=1),o+=1,a+=1+a):(a=0,f&&(h.push([_,f]),f=0)),s+=a,r[r.length]=d,c++;return f&&h.push([_,f]),o===e.length?{highlighted:h,rendered:r.join(""),score:s}:null},filter:function(e,t,n){void 0===n&&(n={});var o=[],r=this._reduce.bind(this,e,n);return t.reduce(r,o).sort(this._sort)},_reduce:function(e,t,o,r,i){var s=r;t.extract&&(s=t.extract(r));var a=n.match(e,s,t);return null!=a&&o.push({string:a.rendered,score:a.score,index:i,original:r}),o},_sort:function(e,t){var n=t.score-e.score;return n?n:e.index-t.index}};return n}),define("modules/clean/history",["require","exports","external/lodash","modules/core/exception","modules/core/uri"],function(e,t,n,o,r){"use strict";return(function(){var e=new RegExp("#|;|\\?|:|@|&|=|\\+|\\$"),t=function(){var t=window.location.pathname,n=window.location.search;return t.search(e)!==-1&&(t=String(new r.URI({path:t}))),t+n},i=function(){var e=r.URI.parse(t());return e.setPath(r.URI.encode_parts(e.getPath())),e},s=function(e,t){return null==t&&(t=void 0),String(r.URI.parse(e).setQuery(t))},a=function(e){return void 0===e&&(e=t()),{url:e,path:e.split("?")[0],qargs:r.URI.parse(e).getQuery()}},l={},u={},p=t(),d=null,c="",h=function(e){return c+"/"+e.substring(c.length).split("/")[1]},_=function(e){return c=e},f=function(e){var t=p,n=a(t),o=h(n.path);if(o in e){var r=n.path.substr(o.length+1);return Array.from(e[o]).map(function(e){return e(r,n.qargs)})}},m=function(){return f(l)},b=function(){return f(u)},v=function(e,t,n){if(n[e]){var o=n[e].indexOf(t);return n[e].splice(o,1)}},g=function(e,t){if(h(e)!==h(t))return b()},y=function(){var e=t();if(e!==p)return g(p,e),p=e,m()};return{init:function(){if(!d)return p=t(),d=setInterval(y,50)},_add_callback:function(e,t,n){return this.init(),o.assert("string"==typeof e,"DBHistory prefix is not a string"),o.assert(0===e.indexOf("/"),"DBHistory prefix must be absolute"),o.assert(e.substring(c.length).indexOf("/",1)===-1,"multi-component prefixes arent supported"),n[e]||(n[e]=[]),n[e].push(t)},add_callback:function(e,t,n){if(void 0===n&&(n=!1),this._add_callback(e,t,l),!n)return m()},remove_callback:function(e,t){return v(e,t,l)},remove_exit_callback:function(e,t){return v(e,t,u)},add_exit_callback:function(e,t){return this._add_callback(e,t,u)},fire_callbacks:function(){return m()},fire_exit_callbacks:function(){return b()},_build_url_for_state_change:function(e,t){return o.assert("string"==typeof e,"DBHistory path is not a string"),o.assert(0===e.indexOf("/"),"DBHistory path must be absolute"),o.assert(e.indexOf("//")===-1,"DBHistory path contains //"),s(e,t)},_pre_state_change:function(e){return e!==p&&(g(p,e),!0)},_post_state_change:function(e){if(void 0===e&&(e=!0),p=t(),e)return m()},replace_state:function(e,t,o){void 0===o&&(o={}),o=n.defaults(o,{immediatelyRestoreState:!0});var r=this._build_url_for_state_change(e,t);if(this._pre_state_change(r)&&window.history.replaceState)return window.history.replaceState(null,null,r),this._post_state_change(o.immediatelyRestoreState)},push_state:function(e,t,r){null==r&&(r={}),r=n.defaults(r,{immediatelyRestoreState:!0}),o.assert(e.indexOf("?")===-1,"DBHistory path contains ?"),o.assert(e.indexOf("#")===-1,"DBHistory path contains #");var i=this._build_url_for_state_change(e,t);if(this._pre_state_change(i))return window.history.pushState(null,null,i),this._post_state_change(r.immediatelyRestoreState)},update_query_param:function(e,t){var n=this.deconstruct_url();return n.qargs[e]=t,this.replace_state(n.path,n.qargs)},remove_query_param:function(e){var t=this.deconstruct_url();return delete t.qargs[e],this.replace_state(t.path,t.qargs)},reset:function(){[l,u].forEach(function(e){Object.keys(e).forEach(function(t){e[t].forEach(function(n){v(t,n,e)})})}),p=t(),d=null,c=""},get_url:t,get_uri:i,construct_url:s,deconstruct_url:a,set_base_prefix:_,URL_ESCAPE_REGEX:e}})()}),define("modules/clean/pagelet_logger",["require","exports","modules/core/browser","modules/clean/js_client_stopwatch","modules/clean/web_timing_logger"],function(e,t,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(e,t,r,i){void 0===t&&(t=[]),void 0===r&&(r=!1),void 0===i&&(i={});var s=this;if(this.pageletName=e,r){var a=n.performance();a&&a.now&&(this.performance=a,this.stopwatchName=this.pageletName+"_client_logging",o.JSStopwatch.create_stopwatch_if_not_exist(this.stopwatchName))}else this.stopwatchName=void 0;this.ttiComponents=[],t.map(function(e){s.ttiComponents.push({name:e,isReady:!1})}),this.ttiMarked=!1,this.extraColumns=i}return e.prototype.componentReady=function(e){if(!this.ttiMarked){for(var t=!1,n=0;n<this.ttiComponents.length;++n)this.ttiComponents[n].name!==e||this.ttiComponents[n].isReady?this.ttiComponents[n].isReady||(t=!0):(this.ttiComponents[n].isReady=!0,o.JSStopwatch.recordTrace(e+"_since_start",{stopwatchName:this.stopwatchName}),console.timeStamp&&console.timeStamp(e+" TTI"));t||(r.mark_time_to_interactive(this.extraColumns),this.ttiMarked=!0)}},Object.defineProperty(e.prototype,"ttiLogged",{get:function(){return this.ttiMarked},enumerable:!0,configurable:!0}),e})();t.PageletLogger=i}),define("modules/clean/react/bubble_dropdown_v2",["require","exports","tslib","external/classnames","external/react","external/react-dom","external/prop-types","external/lodash","jquery","modules/clean/react/css","modules/clean/react/overlay"],function(e,t,n,o,r,i,s,a,l,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleDropdownPositions=p.PositionedOverlay.POSITIONS;var d=(function(e){function u(){var n=null!==e&&e.apply(this,arguments)||this;return n._getArrowStyleFromPosition=function(){return(e={},e[t.BubbleDropdownPositions.TOP_LEFT]="top-left",e[t.BubbleDropdownPositions.TOP]="top",e[t.BubbleDropdownPositions.TOP_RIGHT]="top-right",e[t.BubbleDropdownPositions.LEFT_TOP]="left-top",e[t.BubbleDropdownPositions.LEFT]="left",e[t.BubbleDropdownPositions.LEFT_BOTTOM]="left-bottom",e[t.BubbleDropdownPositions.RIGHT_TOP]="right-top",e[t.BubbleDropdownPositions.RIGHT]="right",e[t.BubbleDropdownPositions.RIGHT_BOTTOM]="right-bottom",e[t.BubbleDropdownPositions.BOTTOM_LEFT]="bottom-left",e[t.BubbleDropdownPositions.BOTTOM]="bottom",e[t.BubbleDropdownPositions.BOTTOM_RIGHT]="bottom-right",e[t.BubbleDropdownPositions.TOP_ALIGN_LEFT]="top-align-left",e[t.BubbleDropdownPositions.TOP_ALIGN_RIGHT]="top-align-right",e[t.BubbleDropdownPositions.LEFT_ALIGN_TOP]="left-align-top",e[t.BubbleDropdownPositions.LEFT_ALIGN_BOTTOM]="left-align-bottom",e[t.BubbleDropdownPositions.RIGHT_ALIGN_TOP]="right-align-top",e[t.BubbleDropdownPositions.RIGHT_ALIGN_BOTTOM]="right-align-bottom",e[t.BubbleDropdownPositions.BOTTOM_ALIGN_LEFT]="bottom-align-left",e[t.BubbleDropdownPositions.BOTTOM_ALIGN_RIGHT]="bottom-align-right",e)[n.props.position];var e},n._adjustArrowPosition=function(e){if(void 0===e&&(e=!1),n.props.shouldShowArrow){var o=l(i.findDOMNode(n.refs.bubbleArrowContainer));switch(n.props.position){case t.BubbleDropdownPositions.TOP_ALIGN_LEFT:case t.BubbleDropdownPositions.BOTTOM_ALIGN_LEFT:o.css("left",n.props.targetNode.offsetWidth/2);break;case t.BubbleDropdownPositions.TOP_ALIGN_RIGHT:case t.BubbleDropdownPositions.BOTTOM_ALIGN_RIGHT:o.css("right",n.props.targetNode.offsetWidth/2);break;case t.BubbleDropdownPositions.LEFT_ALIGN_TOP:case t.BubbleDropdownPositions.RIGHT_ALIGN_TOP:o.css("top",n.props.targetNode.offsetHeight/2);break;case t.BubbleDropdownPositions.LEFT_ALIGN_BOTTOM:case t.BubbleDropdownPositions.RIGHT_ALIGN_BOTTOM:o.css("bottom",n.props.targetNode.offsetHeight/2)}return(!e||e&&n.props.shouldArrowDecrement)&&(n.props.verticalArrowOffset||n.props.horizontalArrowOffset)&&(n._getArrowStyleFromPosition().match(/^(top|bottom)/)&&o.css("left","-="+n.props.horizontalArrowOffset),n._getArrowStyleFromPosition().match(/^(left|right)/))?o.css("top","-="+n.props.verticalArrowOffset):void 0}},n}return n.__extends(u,e),u.prototype.componentDidMount=function(){return this._adjustArrowPosition()},u.prototype.componentDidUpdate=function(){return this._adjustArrowPosition(!0)},u.prototype.render=function(){return r.createElement("div",{className:this.props.isMaestroDesign?"maestro":""},r.createElement("div",{ref:"dropdown",className:o("bubble-dropdown-v2","bubble-dropdown-v2--"+this._getArrowStyleFromPosition(),this.props.className),"aria-labelledby":this.props.targetNode.id},this.props.children,this.props.shouldShowArrow?r.createElement("div",{ref:"bubbleArrowContainer",className:"bubble-arrow-container"},r.createElement("div",{className:"bubble-arrow-border"}),r.createElement("div",{className:"bubble-arrow"})):null))},u.displayName="BubbleDropdownContents",u.propTypes={targetNode:s.instanceOf(HTMLElement).isRequired,position:s.oneOf(a.values(t.BubbleDropdownPositions)).isRequired,verticalArrowOffset:s.number,horizontalArrowOffset:s.number,shouldShowArrow:s.bool,shouldArrowDecrement:s.bool,className:s.string,isMaestroDesign:s.bool},u.defaultProps={verticalArrowOffset:0,horizontalArrowOffset:0,shouldShowArrow:!0,shouldArrowDecrement:!0,className:null,isMaestroDesign:!1},u})(r.Component);t.BubbleDropdownContents=d;var c=(function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isVisible:!1,targetNode:null,shouldAutoFocusDropdownContent:!1},t.updateTargetNode=function(){var e=i.findDOMNode(t.refs.bubbleDropdownContainer).childNodes[0];return e&&(e.setAttribute("aria-expanded",t.state.isVisible),e.hasAttribute("id")||e.setAttribute("id","bubbleDropdownTarget-"+a.uniqueId())),t.setState({targetNode:e})},t.showDropdown=function(){if(!t.props.disabled)return t.setState({isVisible:!0})},t.hideDropdown=function(){if(!t.props.disabled)return t.setState({isVisible:!1})},t._handleClick=function(e){var n=!(e.clientX>0&&e.clientY>0);return t.setState({shouldAutoFocusDropdownContent:n},t._toggle)},t._toggle=function(){if(!t.props.disabled)return t.setState({isVisible:!t.state.isVisible})},t._hasShown=function(){if(t.state.targetNode.setAttribute("aria-expanded",!0),t.hasOnShowNotBeenCalledSinceLastOpened)return t.props.onShowDropdown(),t.hasOnShowNotBeenCalledSinceLastOpened=!1},t._hasHidden=function(){return t.state.targetNode.setAttribute("aria-expanded",!1),t.props.onHideDropdown()},t}return n.__extends(o,e),o.prototype.componentWillMount=function(){return this.hasOnShowNotBeenCalledSinceLastOpened=!1},o.prototype.componentDidMount=function(){return this.updateTargetNode()},o.prototype.componentWillUpdate=function(e,t){if((!this.state.isVisible||this.props.disabled)&&t.isVisible&&!e.disabled)return this.hasOnShowNotBeenCalledSinceLastOpened=!0},o.prototype.componentDidUpdate=function(e,t){if(t.isVisible!==this.state.isVisible&&(this.state.isVisible||this._hasHidden()),i.findDOMNode(this.refs.bubbleDropdownContainer).childNodes[0]!==this.state.targetNode)return this.updateTargetNode()},o.prototype.render=function(){var e=this,t=this.state.targetNode;return r.createElement("div",{className:"bubble-dropdown-v2-container",onClick:this._handleClick,ref:"bubbleDropdownContainer"},this.props.targetButton,this.state.isVisible&&!this.props.disabled&&t?r.createElement(p.PositionedOverlay,{targetNode:t,isTargetPositionFixed:this.props.targetFixed,shouldTrapKeyboardFocus:this.props.shouldTrapKeyboardFocus,shouldAutoFocusOverlayContent:this.state.shouldAutoFocusDropdownContent,position:this.props.position,positionOffset:{horizontal:this.props.horizontalDisplacement,vertical:this.props.verticalDisplacement},onRendered:function(){return e._hasShown()},onBlur:function(){return e.hideDropdown()}},r.createElement(d,{ref:"bubbleDropdownContents",targetNode:t,position:this.props.position,verticalArrowOffset:this.props.verticalDisplacement,horizontalArrowOffset:this.props.horizontalDisplacement,shouldShowArrow:this.props.shouldShowArrow,className:this.props.className,shouldArrowDecrement:this.props.shouldArrowDecrement,isMaestroDesign:this.props.isMaestroDesign},this.props.children)):void 0)},o.displayName="BubbleDropdown",o.propTypes={targetButton:function(e,t,n){if(null==e.targetButton||"button"!==e.targetButton.type)return new Error("BubbleDropdown's targetButton must be a `<button>`")},position:s.oneOf(a.values(t.BubbleDropdownPositions)).isRequired,targetFixed:s.bool,verticalDisplacement:s.number,horizontalDisplacement:s.number,className:s.string,disabled:s.bool,shouldShowArrow:s.bool,shouldTrapKeyboardFocus:s.bool,onShowDropdown:s.func,onHideDropdown:s.func,shouldArrowDecrement:s.bool,isMaestroDesign:s.bool},o.defaultProps={targetFixed:!1,verticalDisplacement:0,horizontalDisplacement:0,className:null,disabled:!1,shouldShowArrow:!0,shouldTrapKeyboardFocus:!1,onShowDropdown:a.noop,onHideDropdown:a.noop,shouldArrowDecrement:!0,isMaestroDesign:!1},o.POSITIONS=t.BubbleDropdownPositions,o})(r.Component);t.BubbleDropdown=u(c,["/static/css/components/bubble_dropdown_v2-vflzxzIjM.css"])}),define("modules/clean/react/bubble_menu",["require","exports","tslib","external/classnames","external/create-react-class","external/react","external/react-dom","external/react-dom-factories","external/prop-types","external/lodash","jquery","modules/clean/keycode","modules/clean/react/bubble_dropdown_v2"],function(e,t,n,o,r,i,s,a,l,u,p,d,c){"use strict";function h(e,t){return void 0!==e&&null!==e?t(e):void 0}Object.defineProperty(t,"__esModule",{value:!0});var _=i.createElement,f=function(e,t,n){var o=e[t].type;if(![b,v,g].includes(o)){var r=(null!=o?o.displayName:void 0)||e[t];return new Error("Expected menu items to be instances of BubbleMenuItem, not "+r+".")}return null},m={DEFAULT:1,CHECKBOX:2,RADIO:3},b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleMouseEnter=function(e){if(null!=t.refs.item)return p(s.findDOMNode(t.refs.item)).closest(".bubble-menu").removeClass("bubble-menu--keyboard"),t.props.onMouseEnter(e)},t._handleClick=function(e){return t.props.disabled?(e.preventDefault(),e.stopPropagation()):"#"===t.props.href&&(e.preventDefault(),t.props.onClick(e),t.props.closeOnClick)?t.props.closeFunc():void 0},t._getRole=function(){switch(t.props.itemType){case m.CHECKBOX:return"menuitemcheckbox";case m.RADIO:return"menuitemradio";default:return"menuitem"}},t._getAriaChecked=function(){switch(t.props.itemType){case m.CHECKBOX:case m.RADIO:return t.props.checked||!1;default:return null}},t.renderContents=function(){var e={"bubble-menu-item":!0,
"bubble-menu-item--disabled":t.props.disabled,"bubble-menu-item--checked":t.props.checked};return a.a({ref:"item",role:t._getRole(),className:o(e),href:t.props.href,target:t.props.target,onClick:t._handleClick,onMouseEnter:t._handleMouseEnter,onMouseLeave:t.props.onMouseLeave,"aria-disabled":t.props.disabled,"aria-checked":t._getAriaChecked()},t.props.children)},t}return n.__extends(t,e),t.prototype.render=function(){return a.li({role:"presentation",className:o("bubble-menu-item-wrapper",this.props.className)},this.renderContents())},t.displayName="BubbleMenuItem",t.propTypes={onClick:l.func,href:l.string,target:l.string,disabled:l.bool,closeOnClick:l.bool,closeFunc:l.func,className:l.string,onMouseEnter:l.func,onMouseLeave:l.func,itemType:l.oneOf(u.values(m)),checked:l.bool},t.defaultProps={onClick:u.noop,href:"#",target:null,disabled:!1,closeOnClick:!0,closeFunc:u.noop,className:null,onMouseEnter:u.noop,onMouseLeave:u.noop,itemType:m.DEFAULT,checked:null},t.TYPES=m,t})(i.Component);t.BubbleMenuItem=b;var v=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return a.li({role:"separator",className:this.props.className},this.props.children)},t.displayName="BubbleMenuSeparator",t.propTypes={className:l.string},t.defaultProps={className:"bubble-menu-item-separator"},t})(i.Component);t.BubbleMenuSeparator=v;var g=r({displayName:"BubbleMenuItemGroup",props:{items:l.arrayOf(f).isRequired,closeFunc:l.func},render:function(){var e=this;return 0===this.props.items.length?null:a.li({className:"bubble-menu-item-group",role:"presentation"},a.ul({className:"bubble-menu-item-group u-unlist u-trim-padding",role:"group"},Array.from(this.props.items).map(function(t,n){return i.cloneElement(t,{closeFunc:e.props.closeFunc,key:null!=t.key?t.key:n})})))}});t.BubbleMenuItemGroup=g;var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMenu=function(){return h(null!=t.refs.bubble?t.refs.bubble.getWrappedComponent():void 0,function(e){return e.showDropdown()})},t.hideMenu=function(){return h(null!=t.refs.bubble?t.refs.bubble.getWrappedComponent():void 0,function(e){return e.hideDropdown()})},t._onShowBubbleMenu=function(){if(null!=t.refs.menu&&null!=t.refs.bubble)return t.$menu=p(s.findDOMNode(t.refs.menu)),t.$menuitems=t.$menu.find('*[role="menuitem"],*[role="menuitemcheckbox"],*[role="menuitemradio"]'),t.$menu.addClass("bubble-menu--keyboard"),"function"==typeof t.props.onShowDropdown?t.props.onShowDropdown():void 0},t._onKeyDown=function(e){return t.$menu.addClass("bubble-menu--keyboard"),e.keyCode===d.KeyCode.DOWN?(t._focusNext(e.target),e.preventDefault(),e.stopPropagation()):e.keyCode===d.KeyCode.UP?(t._focusPrevious(e.target),e.preventDefault(),e.stopPropagation()):void 0},t._onKeyPress=function(e){t.$menu.addClass("bubble-menu--keyboard");var n=null!=e.which?e.which:e.keyCode,o=String.fromCharCode(n).toLowerCase();return(function(){for(var n=[],r=0;r<t.$menuitems.length;r++){var i=t.$menuitems[r];if(h(null!=i.textContent?i.textContent[0]:void 0,function(e){return e.toLowerCase()})===o&&r>t.$menuitems.index(e.target)){i.focus(),e.stopPropagation();break}n.push(void 0)}return n})()},t._focusPrevious=function(e){var n=t.$menuitems.index(e);return n=[-1,0].includes(n)?t.$menuitems.length-1:n-1,t.$menuitems.get(n).focus()},t._focusNext=function(e){var n=t.$menuitems.index(e);return n=[-1,t.$menuitems.length-1].includes(n)?0:n+1,t.$menuitems.get(n).focus()},t}return n.__extends(t,e),t.prototype.render=function(){var e,t=this;return this.props.targetButton&&(e=_(w,{ref:"targetButton",childProps:{"aria-haspopup":!0}},this.props.targetButton)),_(c.BubbleDropdown,u.assignIn({},this.props,{ref:"bubble",shouldTrapKeyboardFocus:!0,onShowDropdown:this._onShowBubbleMenu,targetButton:e}),a.div({},this.props.headerContent),a.ul({role:"menu",ref:"menu",className:"bubble-menu",onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress},Array.from(this.props.items).map(function(e,n){return i.cloneElement(e,{closeFunc:t.hideMenu,key:null!=e.key?e.key:n})})))},t.displayName="BubbleMenu",t.POSITIONS=c.BubbleDropdown.POSITIONS,t.propTypes=u.assignIn({},c.BubbleDropdown.propTypes,{headerContent:l.element,items:l.arrayOf(f).isRequired,onShowDropdown:l.func,targetButton:function(e,t,n){if("button"!==(null!=e.targetButton?e.targetButton.type:void 0))return new Error("BubbleDropdown's targetButton must be a `<button>`, found: "+e[t].type)}}),t})(i.Component);t.BubbleMenu=y;var w=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return i.cloneElement(this.props.children,this.props.childProps)},t.displayName="BubbleMenuTargetButtonWrapper",t.propTypes={childProps:l.object},t})(i.Component)}),define("modules/clean/react/hidden",["require","exports","tslib","external/react","external/react-dom-factories","external/prop-types","external/lodash"],function(e,t,n,o,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o.createElement,l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return r.div({className:"hidden-option"},this.props.children)},t.displayName="Hidden",t})(o.Component);t.Hidden=l;var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return a(l,{},r.select(s.omit(this.props,"options"),Array.from(this.props.options).map(function(e){return r.option({key:e,label:e,value:e})})))},t.displayName="HiddenSelect",t.propTypes={options:i.arrayOf(i.any).isRequired,value:i.any},t})(o.Component);t.HiddenSelect=u}),define("modules/clean/react/paging_list",["require","exports","tslib","external/classnames","external/react","external/react-dom","external/react-dom-factories","external/prop-types","external/lodash","jquery"],function(e,t,n,o,r,i,s,a,l){"use strict";return(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._getScroll=function(){var e=i.findDOMNode(t.refs.scroller).getBoundingClientRect().top;return i.findDOMNode(t.refs.container).getBoundingClientRect().top-e},t._setScroll=function(e){return i.findDOMNode(t.refs.container).scrollTop+=e-t._getScroll()},t._getViewportSize=function(){return i.findDOMNode(t.refs.container).clientHeight},t._getStartAndEnd=function(){var e=Math.max(0,t._getScroll()-t.props.threshold);return{start:e,end:e+t._getViewportSize()+2*t.props.threshold}},t.updateFrame=function(){var e=t._getStartAndEnd(),n=e.start,o=e.end,r=t.props.itemSize,i=t._constrainFrom(Math.floor(n/r),t.props.children.length),s=t._constrainSize(Math.ceil((o-n)/r)+1,t.props.children,i);return t.setState({from:i,size:s})},t._getSpaceBefore=function(e){return e*t.props.itemSize},t._constrainFrom=function(e,t){return e?Math.max(Math.min(e,t-1),0):0},t._constrainSize=function(e,n,o){var r=n.length,i=t.props.pageSize;return Math.min(Math.max(e,i),r-o)},t.scrollTo=function(e){return t._setScroll(t._getSpaceBefore(e))},t.scrollAround=function(e){var n=t._getScroll(),o=t._getSpaceBefore(e);if(n>o)return t._setScroll(o);var r=o-t._getViewportSize()+t.props.itemSize;return n<r?t._setScroll(r):void 0},t._renderItems=function(){var e=t.state.from+t.state.size-1;return t.props.children.slice(t.state.from,+e+1||void 0)},t.state={from:0,size:t._constrainSize(t.props.pageSize,t.props.children,0)},t}return n.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this._constrainFrom(this.state.from,e.children.length),n=this._constrainSize(this.state.size,e.children,t);return this.setState({from:t,size:n})},t.prototype.componentDidMount=function(){return window.addEventListener("resize",this.updateFrame),i.findDOMNode(this).addEventListener("scroll",this.updateFrame),this.updateFrame()},t.prototype.shouldComponentUpdate=function(e,t){return!l.isEqual(e,this.props)||!l.isEqual(t,this.state)},t.prototype.componentDidUpdate=function(){return this.updateFrame()},t.prototype.componentWillUnmount=function(){return window.removeEventListener("resize",this.updateFrame),i.findDOMNode(this).removeEventListener("scroll",this.updateFrame)},t.prototype.render=function(){var e={position:"relative",height:this._getSpaceBefore(this.props.children.length)},t=this._getSpaceBefore(this.state.from),n=this.props.useTranslate3d?"translate3d(0px, "+t+"px, 0)":"translate(0px, "+t+"px)",r={MsTransform:n,WebkitTransform:n,transform:n};return s.div({className:o("paging-list",this.props.customClass),ref:"container"},s.div({style:e,ref:"scroller"},s.ul({style:r},this._renderItems())))},t.displayName="PagingList",t.propTypes={customClass:a.oneOfType([a.string,a.instanceOf(o)]),itemSize:a.number.isRequired,pageSize:a.number.isRequired,threshold:a.number,useTranslate3d:a.bool},t.defaultProps={threshold:100,useTranslate3d:!1},t})(r.Component)}),define("modules/clean/react/rebrand/elements/rebrand_buttons",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css"],function(e,t,n,o,r,i){"use strict";function s(e,t,n,o,i,s){void 0===e&&(e="primary"),void 0===t&&(t=!1),void 0===n&&(n="small"),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=!1);var a="button--"+n,l="";o&&(l=a+"--"+o);var u="button--"+e,p="";return t&&(p=u+"--disabled"),r((d={},d["button--with-border"]="secondary"===e&&s,d),"button",u,a,l,i,p);var d}function a(e){e.preventDefault()}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,n=e.disabled,r=e.size,i=e.width,u=e.className,p=e.withBorder,d=s(t,n,r,i,u,p);return o.createElement("a",{href:this.props.href,className:d,onClick:n?a:l,"aria-disabled":n},this.props.children)},t})(o.Component);t.RebrandButtonAnchorElement=u,t.RebrandButtonAnchor=i(u,["/static/css/rebrand/elements/button-vflPN1v3e.css"]);var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,n=e.disabled,r=e.size,i=e.width,a=e.className,l=e.onClick,u=e.type,p=s(t,n,r,i,a);return o.createElement("button",{className:p,onClick:l,disabled:n,type:u||"button","aria-label":this.props.ariaLabel},this.props.children)},t})(o.Component);t.RebrandButtonElement=p,t.RebrandButton=i(p,["/static/css/rebrand/elements/button-vflPN1v3e.css"])}),define("modules/clean/react/tooltip",["require","exports","tslib","external/react","external/react-dom","external/react-dom-factories","external/prop-types","external/lodash","jquery"],function(e,t,n,o,r,i,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u,p={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3,BOTTOM_RIGHT:4};t.TooltipPosition=p;var d=function(){var e="tooltip-holder",t=l("#"+e);return t.length||(t=l("<div />").attr({id:e,style:"z-index: "+1e4}).prependTo("body")),t[0]},c=function(e){var t=e.offset(),n=e.outerWidth(),o=e.outerHeight();return{left_x:t.left,right_x:t.left+n,top_y:t.top,bottom_y:t.top+o,width:n,height:o}},h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerAndShow=function(){var e=l(r.findDOMNode(t.refs.tooltip)),n=t.props.targetElementDimensions,o=c(e),i=l(window).scrollTop(),s=l(window).scrollLeft();if([p.TOP,p.BOTTOM].includes(t.props.position)){var a=l(window).width(),u=n.left_x+n.width/2-o.width/2-s;u<0?u=0:u+o.width>a&&(u=a-o.width-7),e.css("left",u+"px")}else if([p.LEFT,p.RIGHT].includes(t.props.position)){var d=l(window).height(),h=n.top_y+n.height/2-o.height/2-i;h<0?h=0:h+o.height>d&&(h=d-o.height-7),e.css("top",h+"px")}return e.show()},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.targetElementDimensions,n=l(window),o=l(window).scrollTop(),r=l(window).scrollLeft(),s=(function(){switch(e.props.position){case p.TOP:return{bottom:n.height()-t.top_y+7+o};case p.BOTTOM:return{top:t.bottom_y+7-o};case p.LEFT:return{right:n.width()-t.left_x+7+r};case p.RIGHT:return{left:t.right_x+7-r};case p.BOTTOM_RIGHT:return{left:t.right_x-7-r,top:t.bottom_y+7-o}}})();return i.div({className:"tooltip-bubble "+(this.props.className||""),ref:"tooltip",style:s,onMouseMove:this.props.mouse_move_cb?this.props.mouse_move_cb:void 0,onMouseLeave:this.props.mouse_out_cb?this.props.mouse_out_cb:void 0},i.div({className:"tooltip-inner"},this.props.contents))},t.prototype.componentDidMount=function(){return this._centerAndShow()},t.prototype.componentDidUpdate=function(){return this._centerAndShow()},t.displayName="TooltipBubble",t.propTypes={position:s.oneOf((function(){var e=[];for(u in p)e.push(p[u]);return e})()),contents:s.oneOfType([s.element,s.string]),className:s.string,mouse_move_cb:s.func,mouse_out_cb:s.func,targetElementDimensions:s.shape({left_x:s.number,right_x:s.number,top_y:s.number,bottom_y:s.number,width:s.number,height:s.number})},t})(o.Component),_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,event_id:a.uniqueId()},t._on_mouse_leave=function(e){return function(e){return t.props.hide_delay>0?t._scheduleHide(t.props.hide_delay):t._hide(e)}},t._render_tooltip=function(){var e=d();l("#tooltip-holder").css("position","fixed"),l("#tooltip-holder").css("left","0"),l("#tooltip-holder").css("right","0"),t.props.hide_delay>0&&l("#tooltip-holder").attr("data-event-id",t.state.event_id),t.props.position===p.TOP?(l("#tooltip-holder").css("top","auto"),l("#tooltip-holder").css("bottom","0")):(l("#tooltip-holder").css("top","0"),l("#tooltip-holder").css("bottom","auto"));var n=o.createElement(h,{position:t.props.position,contents:t.props.tooltip_contents,className:t.props.tooltip_classname,mouse_move_cb:t.props.interaction_enabled?t._clear_timeout:void 0,mouse_out_cb:t.props.interaction_enabled?t._on_mouse_leave():void 0,targetElementDimensions:c(l(r.findDOMNode(t.refs.tooltipTarget)))});return r.unmountComponentAtNode(e),r.render(n,e)},t._show=function(){if(!t.state.visible||t._last_timeout)return t._render_tooltip(),t.setState({visible:!0}),t.props.on_show&&t.props.on_show(),t._clear_timeout()},t._hide=function(){if(t.state.visible){var e=d();if(t._last_timeout){l(e).attr("data-event-id")===t.state.event_id&&(r.unmountComponentAtNode(e),t._clear_timeout())}else r.unmountComponentAtNode(e);return t.setState({visible:!1})}},t._scheduleHide=function(e){if(t.state.visible)return t._last_timeout=setTimeout(t._hide,e)},t._clear_timeout=function(){if(t._last_timeout)return clearTimeout(t._last_timeout),t._last_timeout=null},t}return n.__extends(t,e),t.prototype.render=function(){var e=this;return i.div({className:"tooltip-target",onMouseMove:function(t){return e._show(t)},onFocus:function(t){return e._show(t)},onMouseLeave:this._on_mouse_leave(),onBlur:this._on_mouse_leave(),id:this.state.tooltip_id,ref:"tooltipTarget",tabIndex:this.props.is_focusable?0:void 0},this.props.children)},t.prototype.componentDidMount=function(){var e=this;return l(document).bind("scroll."+this.state.event_id,function(t){return e._hide(t)})},t.prototype.componentDidUpdate=function(){if(this.state.visible)return this._render_tooltip()},t.prototype.componentWillUnmount=function(){l(document).unbind("scroll."+this.state.event_id);var e=d();return r.unmountComponentAtNode(e)},t.displayName="Tooltip",t.propTypes={position:s.oneOf((function(){var e=[];for(u in p)e.push(p[u]);return e})()),tooltip_contents:s.oneOfType([s.element,s.string]),tooltip_classname:s.string,hide_delay:s.number,interaction_enabled:s.bool,is_focusable:s.bool,on_show:s.func},t.defaultProps={interaction_enabled:!1,hide_delay:0},t})(o.Component);t.Tooltip=_}),define("modules/clean/react/util",["require","exports","external/react"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if("string"==typeof e)return e;if("string"==typeof e.props)return e.props;if(e.props.text)return e.props.text;var t=[];return n.Children.forEach(e.props.children,function(e){return t.push(o(e))}),t.join("")};t.getText=o;var r=function(e,t,o){if(t(e))return o(e);var i=!1,s=[];return n.Children.forEach(e.props.children,function(e){var n=r(e,t,o);if(s.push(n),n!==e)return i=!0}),i?n.cloneElement(e,{},s):e};t.replaceSubtree=r;var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=[],r=0,i=Array.from(e);r<i.length;r++)for(var s=i[r],a=0,l=Object.keys(s||{});a<l.length;a++){var u=l[a],p=s[u];"className"===u?o.push(p):n[u]=p}return null!=o.length&&(n.className=o.join(" ")),n};t.mergeProps=i;var s=function(e,t){return new Promise(function(n,o){return e.setState(t,n)})};t.setStatePromise=s}),define("modules/clean/referrer_cleansing_redirect",["require","exports","external/sjcl","modules/core/browser","modules/core/cookies","modules/core/uri"],function(e,t,n,o,r,i){"use strict";function s(e){var t=i.URI.parse(e).getScheme();if(t&&!["http","https"].includes(t))return"#";var n=new i.URI({scheme:"https",authority:"www.dropbox.com",path:"/referrer_cleansing_redirect"});return n.setQuery({url:e,hmac:l(e)}),n}function a(e){o.redirect(s(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){var t=n.codec.utf8String.toBits(r.Cookies.read("__Host-js_csrf")),o=new n.misc.hmac(t),i=o.encrypt(e);return n.codec.base64.fromBits(i)};t.get_redirect_uri=s,t.redirect=a}),define("modules/core/user_i18n",["require","exports","modules/constants/page_load"],function(e,t,n){"use strict";function o(e){if(!e)return"";e=e.toUpperCase();var t=e.trim().split(" "),n=t[0],o=a(n),r=t[t.length-1],l=a(r);if(t.length>=2)return s()?l[0]+o[0]:o[0]+l[0];var u=a(e);return s()&&!i(e)&&u.length>1?u[0]+u[1]:u[0]}function r(e){if(!e)return"";var t=e.trim().split(" ");return t.length<2?e:s()?t[t.length-1][0]+" "+t[0]:t[0]+" "+t[t.length-1][0]}function i(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0}function s(){return["zh","ja","ko"].indexOf(n.USER_LOCALE)!==-1}function a(e){for(var t=[],n=e.length,o=0;o<n;){var r=e[o];if(r>=""&&r<=""){if(!(o<n-1))break;var i=e[o+1],s=r+i;t.push(s),o+=2}else t.push(r),o+=1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitials=o,t.getShortName=r,t.isCjkLocale=s});
//# sourceMappingURL=pkg-modules-unneeded-for-home.min.js-vflwwh3lk.map