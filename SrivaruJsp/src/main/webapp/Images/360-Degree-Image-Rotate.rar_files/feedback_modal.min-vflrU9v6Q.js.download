define(["require","exports","tslib","external/react","modules/clean/em_string","modules/clean/filepath","modules/clean/react_format","modules/core/i18n","modules/clean/react/modal","modules/clean/react/icon/old_icons","modules/clean/react/icon/icon_helper"],function(e,t,n,a,l,i,c,s,o,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFileSelected:t.props.allowFileDonation,feedback:""},t.onDone=function(){t.props.onDone(t.state.isFileSelected,t.state.feedback),o.Modal.close()},t.onDismiss=function(){t.props.onDismiss(),o.Modal.close()},t.checkboxChange=function(e){t.setState({isFileSelected:e.target.checked})},t}return n.__extends(t,e),t.showInstance=function(e){o.Modal.showInstance(e)},t.prototype.renderFileDonation=function(){if(!this.props.allowFileDonation)return null;var e=l.Emstring.em_snippet(i.filename(this.props.filename),32);return a.createElement("label",{className:"file_selection"},a.createElement("div",{className:"file_check"},a.createElement("input",{type:"checkbox",checked:this.state.isFileSelected,"aria-checked":this.state.isFileSelected,onClick:this.checkboxChange,id:"file_selection_checkbox"})),a.createElement("div",{className:"file_image"},a.createElement(r.OldFileIcon,{filename:this.props.filename,size:d.ICON_SIZES.SMALL})),a.createElement("div",{className:"file_desc"},a.createElement("div",{className:"file_desc_container"},a.createElement("div",{className:"main"},c.reactFormat(s._("Include <b>%(filename)s</b>"),{filename:e,b:a.createElement("b",null)})),a.createElement("div",{className:"disclaimer"},s._("The Dropbox team will review your document. It will only be used to help improve previews.")))))},t.prototype.render=function(){var e=this;return a.createElement(o.Modal,{title:s._("Tell us what’s wrong"),acceptButtonText:s._("Send feedback"),dismissButtonText:s._("Cancel"),autoClose:!1,showX:!0,onAccept:this.onDone,onDismiss:this.onDismiss},a.createElement("div",{className:"send_feedback_modal_content"},a.createElement("textarea",{className:"feedback",name:"feedback",id:"feedback",maxLength:255,readOnly:!1,placeholder:s._("My document doesn’t look right because..."),value:this.state.feedback,onChange:function(t){return e.setState({feedback:t.target.value})}}),this.renderFileDonation()))},t})(a.Component);t.PreviewFeedbackModal=m});
//# sourceMappingURL=feedback_modal.min.js-vflQtPLCc.map