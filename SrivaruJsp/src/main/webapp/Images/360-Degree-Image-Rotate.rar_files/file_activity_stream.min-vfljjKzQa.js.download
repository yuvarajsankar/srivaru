define(["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/css","modules/clean/components/loading_indicator","modules/clean/react/file_activity_stream/feedback_panel","modules/clean/react/file_sidebar/file_sidebar_connect","modules/clean/react/file_sidebar/store/file_activity/actions","modules/clean/react/file_sidebar/store/file_activity/selectors","modules/clean/react/file_activity_stream/file_activity_stream_card_factory"],function(e,t,i,a,r,n,l,c,s,o,d,_){"use strict";function m(e){var t=d.getActivitiesMetadata(e),a=d.getFeedbackState(e);return{activities:i.__assign({},t),feedback:i.__assign({},a)}}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRefreshClick=function(e){var i=t.props,a=i.dispatch,r=i.file,n=i.user;e.preventDefault(),a(o.reset()),a(o.getActivityStream(n.id,r))},t}return i.__extends(t,e),t.prototype.renderDebug=function(){return null},t.prototype.renderLoading=function(){return a.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},a.createElement(l.LoadingIndicator,{style:l.LoadingIndicator.LoadingIndicatorStyle.BLUE_SPINNER}))},t.prototype.renderError=function(){return a.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},a.createElement("div",{className:"file_activity_stream__centered_panel"},r._("Oops, we had an issue."),a.createElement("a",{href:"",onClick:this.onRefreshClick},r._("Try again"))))},t.prototype.renderNoLogs=function(){return a.createElement("div",{className:"file_activity_stream"},a.createElement("div",{className:"file_activity_stream__empty_state"},a.createElement("h4",null,r._("No recent activity")),a.createElement("p",null,r._("Once people start doing things with this file, you’ll see their activity here."))))},t.prototype.renderOldFile=function(){return a.createElement("div",{className:"file_activity_stream"},a.createElement("div",{className:"file_activity_stream__empty_state"},a.createElement("h4",null,r._("No recent activity")),a.createElement("p",null,r._("This file hasn’t been updated in the past year."))))},t.prototype.render=function(){var e=this.props,t=e.activities,i=e.feedback,r=e.file,n=e.user;return t&&i?!t.loaded&&t.loading?this.renderLoading():0===t.value.length?t.error?this.renderError():"number"==typeof r.ts&&Math.floor(Date.now()/1e3)-r.ts>=7776e3?this.renderOldFile():this.renderNoLogs():a.createElement("div",{className:"file_activity_stream"},i.shouldShow&&a.createElement(c.FeedbackPanel,null),t.value.map(function(e){return a.createElement(_.FileActivityStreamCardFactory,{key:e.id,activity:e,file:r,viewingUser:n})}),this.renderDebug()):null},t})(a.Component);t.FileActivityStream=s.fileSidebarConnect(m)(n(u,["/static/css/file_activity_stream-vfl1XwBna.css"]))});
//# sourceMappingURL=file_activity_stream.min.js-vfllNEMt_.map