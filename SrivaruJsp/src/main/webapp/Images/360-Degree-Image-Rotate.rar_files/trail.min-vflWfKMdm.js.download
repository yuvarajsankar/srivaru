define(["require","exports","tslib","external/react","spectrum/file_icon","spectrum/icon_content","spectrum/popover","modules/clean/em_string","modules/clean/react/breadcrumb/constants","modules/clean/react/breadcrumb/utils","modules/clean/react/css","modules/clean/react/flag","modules/clean/react/sprite","modules/core/i18n"],function(e,t,r,n,o,l,a,i,s,c,u,m,p,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSegmentClicked=function(e,r){t.onCrumbClicked(e,r)},t.onMenuClicked=function(e,r,n){t.onCrumbClicked(e,r)},t}return r.__extends(t,e),Object.defineProperty(t.prototype,"crumbs",{get:function(){return this.props.overflowCrumbs.concat(this.props.inlineCrumbs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastCrumb",{get:function(){return this.props.inlineCrumbs[this.props.inlineCrumbs.length-1]},enumerable:!0,configurable:!0}),t.prototype.onCrumbClicked=function(e,t){this.props.onChange&&this.props.onChange(e,t,this.crumbs.indexOf(t))},t.prototype.render=function(){var e=this;return n.createElement("span",null,n.createElement("h1",{className:"ax-visually-hidden"},this.lastCrumb.label),n.createElement("nav",{className:"breadcrumb-trail u-l-fl","aria-label":b._("Folder Hierarchy"),role:"navigation"},this.props.overflowCrumbs.length?n.createElement(C,{crumbs:this.props.overflowCrumbs,onChange:this.onMenuClicked,overflowAttachDirection:this.props.overflowAttachDirection,overflowAttachPosition:this.props.overflowAttachPosition}):null,this.props.inlineCrumbs.map(function(t,r){return n.createElement(g,{key:r,crumb:t,isLastCrumb:t===e.lastCrumb,onClick:e.onSegmentClicked,maxWidth:c.getMaxInlineTrailWidth(!!e.props.overflowCrumbs.length)})})))},t.defaultProps={overflowCrumbs:[]},t})(n.Component),f=u(h,["/static/css/breadcrumbs-vflDy7lmk.css"]);t.BreadcrumbTrail=f,t.SmartBreadcrumbTrail=function(e){var t=c.splitCrumbs(e.crumbs,c.getMaxInlineTrailWidth(!0)),r=t.overflowCrumbs,o=t.inlineCrumbs;return n.createElement(f,{overflowCrumbs:r,inlineCrumbs:o,onChange:e.onChange,overflowAttachDirection:e.overflowAttachDirection,overflowAttachPosition:e.overflowAttachPosition})};var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return n.createElement(p.Sprite,{group:"web",name:"chevron",className:"breadcrumb-separator",alt:""})},t})(n.Component),C=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e,r){t.props.onChange&&t.props.onChange(e,r,t.props.crumbs.indexOf(r))},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.crumbs.slice();return t.reverse(),n.createElement("span",{className:"breadcrumb-menu-container"},n.createElement(a.Popover,null,n.createElement(a.PopoverTrigger,{"aria-label":b._("Breadcrumb target")},n.createElement("button",{className:"u-unbutton breadcrumb-overflow-button u-l-fl","aria-label":b._("Breadcrumb overflow")},n.createElement(l.IconContent,{name:"folder_dropdown-small",alt:b._("Show parent folders (descending)")}))),n.createElement(a.PopoverContent,{attachment:this.props.overflowAttachDirection,position:this.props.overflowAttachPosition},t.map(function(t){return n.createElement(v,{key:t.label,crumb:t,onClick:e.onClick})}))),n.createElement(d,null))},t})(n.Component),v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.crumb)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.crumb,t=i.Emstring.em_snippet(e.label,s.MAX_MENU_ITEM_WIDTH_IN_EMS);return n.createElement(a.PopoverContentItem,{className:"breadcrumb-menu-item",href:e.href,onClick:this.onClick},n.createElement(m.Flag,{leftAttachment:e.isFile?n.createElement(o.FileIcon,{path:e.label}):n.createElement(l.IconContent,{name:"folder-small",alt:""})},n.createElement("div",{className:"breadcrumb-menu-item__text u-pad-left-xs"},t)))},t})(n.Component),g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.crumb)},t}return r.__extends(t,e),t.prototype.getLabel=function(){return i.Emstring.em_snippet(this.props.crumb.label,this.props.maxWidth)},t.prototype.render=function(){var e=this.getLabel();return this.props.isLastCrumb?n.createElement("span",{className:"breadcrumb-segment"},e):n.createElement("span",null,n.createElement("a",{className:"breadcrumb-segment",href:this.props.crumb.href,onClick:this.onClick},e),n.createElement(d,null))},t})(n.Component)});
//# sourceMappingURL=trail.min.js-vflpnwO78.map