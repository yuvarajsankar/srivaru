define(["require","exports","tslib","external/react","modules/clean/react/css","modules/core/i18n","modules/clean/react/paper/utils","modules/clean/react/paper/open_in_paper_callout_loader","modules/clean/react/badge","modules/clean/react/paper/paper_log","modules/clean/static_urls","react-dom","modules/clean/react/paper/utils","modules/clean/react/modal","modules/clean/sharing/views/hover_close_button","modules/clean/react/button","spectrum/button"],function(e,t,n,a,o,r,p,i,l,s,c,d,u,m,h,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){var t=e.buttonText;return a.createElement("div",null,a.createElement("img",{alt:r._("Paper Icon"),src:c.static_url("/static/images/paper/paper-icon-vfluG3iA1.png"),className:"open-in-paper-icon-in-dropdown"}),a.createElement("span",null,t),a.createElement(l.Badge,{variant:l.BadgeVariant.NEW,color:l.BadgeColor.SQUASH}))},C=function(e){var t=e.buttonText,n=e.onClick;return a.createElement(v.Button,{variant:"secondary",onClick:n},a.createElement("img",{alt:r._("Paper Icon"),src:c.static_url("/static/images/paper/paper-icon-vfluG3iA1.png"),className:"open-in-paper-icon"}),a.createElement("span",null,t))},g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseButtonClick=function(){m.Modal.close()},t.handleCtaClick=function(){var e={file:t.props.file,sharedLink:t.props.sharedLink,user:t.props.user,fromModal:!0};p.openFileInPaper(e)},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;Promise.resolve().then(function(){d.findDOMNode(e.buttonRef).focus()})},t.prototype.render=function(){var e=this;return a.createElement(m.Modal,{style:"bare",ariaLabel:"Add to Paper"},a.createElement("div",{className:"open-in-paper-modal-container"},a.createElement("div",{className:"open-in-paper-modal-top-bar"},a.createElement(h,{className:"open-in-paper-modal-close",onClick:this.handleCloseButtonClick})),a.createElement("div",{className:"open-in-paper-modal-content"},a.createElement("div",{className:"open-in-paper-modal-video-container"},a.createElement("video",{loop:!0,autoPlay:!0,muted:!0,className:"open-in-paper-modal-video"},a.createElement("source",{src:c.static_url("/static/videos/home/banner/paper-vflqslbBN.mov"),type:"video/mp4"}))),a.createElement("div",{className:"open-in-paper-modal-right-panel"},a.createElement("div",{className:"open-in-paper-modal-logo"},a.createElement("img",{className:"paper-logo",src:c.static_url("/static/images/paper/landing_page/paper-logo-m1-vflG5Skv4.png"),srcSet:c.static_url("/static/images/paper/landing_page/paper-logo-m1@2x-vfly2MicL.png")+" 2x",alt:r._("Dropbox Paper")})),a.createElement("div",{className:"open-in-paper-modal-description"},r._("Ideas, photos, videos, even links from other appsâ€”they all come together in Paper.")),a.createElement("div",{className:"open-in-paper-modal-cta-container"},a.createElement(f.Button,{ref:function(t){return e.buttonRef=t},className:"button-primary open-in-paper-modal-cta",onClick:this.handleCtaClick},r._("Add file to Paper doc")))))))},t})(a.Component),E=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e;return u.shouldShowCTADescription(this.props.file,this.props.sizeClass)&&(e=a.createElement("div",{className:"open-in-paper-button-description"},r._("Collect ideas and connect all kinds of files in a single doc."))),a.createElement("div",null,a.createElement("div",{className:"open-in-paper-button-in-more-dropdown-container"},a.createElement("span",{className:"open-in-paper-button-in-more-dropdown-cta"},u.getCTAText(this.props.file),e),a.createElement(l.Badge,{className:"open-in-paper-button-in-more-dropdown-badge",variant:l.BadgeVariant.NEW,color:l.BadgeColor.SQUASH})))},t})(a.Component),N=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return a.createElement("div",{className:"open-in-paper-button-in-more-dropdown-see-how-button"},r._("See how"))},t})(a.Component);t.OpenInPaperSeeHowButton=N;var k=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasBeenClicked:!1,componentDidMount:!1},t.handleOpenWithPaperClick=function(e){e.preventDefault();var n={file:t.props.file,sharedLink:t.props.sharedLink,user:t.props.user};p.openFileInPaper(n)},t.handleClick=function(){t.setState({hasBeenClicked:!0})},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.sharedLink?"shared_file_actions":"mounted_file_actions";s.paperLog(s.PaperEventTypes.CTA_SEEN,{source:e,cta:"open_in_paper_button"}),this.setState({componentDidMount:!0})},t.prototype.renderPaperCalloutIfNeeded=function(){return this.props.hideCallout?null:a.createElement(i.OpenInPaperCalloutLoader,{user:this.props.user,file:this.props.file,sharedLink:this.props.sharedLink,targetNode:this.ref,variant:u.OpenInPaperButtonVariant.Button,parentHasBeenClicked:this.state.hasBeenClicked})},t.prototype.render=function(){var e=this;return this.props.inDropdown?a.createElement(_,{buttonText:p.getCTAText(this.props.file)}):a.createElement("div",{className:"copy-to-paper-wrapper",ref:function(t){return e.ref=d.findDOMNode(t)},onClick:this.handleClick},a.createElement(C,{onClick:this.handleOpenWithPaperClick,buttonText:p.getCTAText(this.props.file)}),this.state.componentDidMount&&this.renderPaperCalloutIfNeeded())},t})(a.Component),b=["/static/css/open_in_paper-vflTwzwOL.css","/static/css/paper/paper_callout-vflT2pIXP.css"],P=["/static/css/open_in_paper-vflTwzwOL.css"];t.OpenInPaperButton=o(k,b),t.OpenInPaperButtonInMoreDropdown=o(E,P),t.PaperModal=o(g,P)});
//# sourceMappingURL=open_in_paper_button.min.js-vflgvkJKo.map