define(["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/modal","modules/clean/react/css","modules/clean/react/feedback/types"],function(e,t,n,a,s,c,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(t){var a=e.call(this,t)||this;a.onAccept=function(){return n.__awaiter(a,void 0,void 0,function(){var e,t,a,s,o,r;return n.__generator(this,function(n){switch(n.label){case 0:if(e=this.props.onSubmit,!e)return[3,4];for(t={},a=0,s=Object.keys(this.state.value);a<s.length;a++)o=s[a],t[o]=this.state.value[o].value;n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e(t)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),[3,4];case 4:return c.Modal.close(),[2]}})})},a.onCancel=function(){a.props.onCancel&&a.props.onCancel()},a.state={submitting:!1,value:{}};for(var s=0,o=Object.keys(t.model);s<o.length;s++){var r=o[s];a.state.value[r]={complete:!1,value:t.model[r]}}return a}return n.__extends(t,e),t.prototype.getChildContext=function(){var e=this,t=this.state;return{feedbackForm:{setComplete:function(n,a){t.value[n].complete=a,e.forceUpdate()},setValue:function(n,a,s){t.value[n]={complete:s,value:a},e.forceUpdate()},value:t.value}}},t.prototype.render=function(){var e=this.props.title,t=this.state,n=t.submitting,o=t.value,r=Object.keys(o).every(function(e){return o[e].complete});return a.createElement(c.Modal,{className:"zendesk-feedback-form",title:e,acceptButtonDisabled:n||!r,acceptButtonText:s._("Send Feedback"),autoClose:!1,dismissButtonText:s._("Cancel"),onAccept:this.onAccept,onCancel:this.onCancel},this.props.children)},t.childContextTypes=r.ContextTypes,t})(a.Component);t.FeedbackForm=o(l,["/static/css/zendesk_feedback-vflr6Jf-t.css"])});
//# sourceMappingURL=feedback_form.min.js-vfl9q08JJ.map