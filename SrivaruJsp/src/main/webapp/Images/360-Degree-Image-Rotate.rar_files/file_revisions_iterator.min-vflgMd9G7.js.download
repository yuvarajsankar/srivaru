define(["require","exports","modules/clean/ajax","modules/clean/react/browse/models"],function(e,i,r,s){"use strict";function t(e){return new n({file:s.File.fromServerObject(e.preview_info),author:e.author,action_description:e.action_description,device_name:e.device_name,is_primary_revision:e.is_primary_revision,when_mses:e.ts})}Object.defineProperty(i,"__esModule",{value:!0});var n=(function(){function e(e){var i=e.file,r=e.action_description,s=e.is_primary_revision,t=e.author,n=e.device_name,o=e.when_mses;this.file=i,this.action_description=r,this.is_primary_revision=s,this.author=t,this.device_name=n,this.when_mses=o}return e})(),o=(function(){function e(e,i,r){void 0===r&&(r={}),this.fqPath=e,this.userId=i,this.cursor=r.initialCursor||null,this.deserializer=r.deserializer||t}return e.prototype.next=function(e){var i=this;void 0===e&&(e=50);var s={path:this.fqPath,limit:e,cursor:this.cursor};return new Promise(function(e,t){r.WebRequest({url:"/file_revisions",type:"GET",subject_user:i.userId,data:s,success:function(r){var s=JSON.parse(r);i.cursor=s.cursor,e({revisions:s.revisions.map(function(e){return i.deserializer(e)}),hasMore:s.more})},error:function(e){t({errorText:e.error_text})}})})},e})();i.FileRevisionsIterator=o});
//# sourceMappingURL=file_revisions_iterator.min.js-vflNNnFdf.map